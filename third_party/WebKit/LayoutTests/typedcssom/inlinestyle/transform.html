<!DOCTYPE html>
<script src="../../resources/testharness.js"></script>
<script src="../../resources/testharnessreport.js"></script>

<div id="testElement"></div>
<div id="crashTest" style="transform:translateY(50px)"></div>

<script>

test(function() {
  var transform = new CSSTransformValue([new CSSRotation(20)]);

  assert_equals(testElement.styleMap.get('transform'), null);

  testElement.styleMap.set('transform', transform);
  assert_equals(testElement.style.transform, 'rotate(20deg)');
}, "Setting transform works on a regular element.");

test(function() {
  var transform = new CSSTransformValue([new CSSRotation(30)]);

  testElement.styleMap.set('transform', transform);
  assert_equals(testElement.styleMap.get('transform').cssText, 'rotate(30deg)');
}, "Getting transform works on a regular element.");

test(function() {
  crashTest.styleMap.entries();
}, "Unhandled case doesn't crash.");

</script>
